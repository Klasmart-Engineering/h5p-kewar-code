[
  {
    "name": "codeType",
    "type": "select",
    "label": "Code type",
    "description": "Select what kind of code you want to generate",
    "options": [
      {
        "value": "sms",
        "label": "SMS"
      },
      {
        "value": "text",
        "label": "Text"
      },
      {
        "value": "url",
        "label": "URL"
      }
    ],
    "default": "url"
  },
  {
    "name": "sms",
    "type": "group",
    "label": "SMS",
    "importance": "high",
    "expanded": true,
    "fields": [
      {
        "name": "number",
        "type": "text",
        "label": "Phone number",
        "description": "Phone number to send to (please use the format +12 345 67890)",
        "placeholder": "+12 345 67890"
      },
      {
        "name": "message",
        "type": "text",
        "label": "Message",
        "description": "Message to send",
        "placeholder": "Please fetch milk and bread!"
      }
    ],
    "widget": "showWhen",
    "showWhen": {
      "rules": [
        {
          "field": "codeType",
          "equals": "sms"
        }
      ]
    }
  },
  {
    "name": "text",
    "type": "group",
    "label": "Text",
    "importance": "high",
    "expanded": true,
    "fields": [
      {
        "name": "text",
        "type": "text",
        "label": "Text",
        "description": "Text to encode",
        "placeholder": "Please fetch\n* milk\n* bread",
        "widget": "textarea"
      }
    ],
    "widget": "showWhen",
    "showWhen": {
      "rules": [
        {
          "field": "codeType",
          "equals": "text"
        }
      ]
    }
  },
  {
    "name": "url",
    "type": "group",
    "label": "URL",
    "importance": "high",
    "expanded": true,
    "fields": [
      {
        "name": "url",
        "type": "text",
        "label": "URL",
        "description": "URL to link to (must start with https:// or http://)",
        "placeholder": "https://h5p.org",
        "regexp": {
          "pattern": "https?://([0-9a-z.-]+).[a-z.]{2,}([0-9a-z.-_]*)*/?",
          "modifiers": "gi"
        }
      }
    ],
    "widget": "showWhen",
    "showWhen": {
      "rules": [
        {
          "field": "codeType",
          "equals": "url"
        }
      ]
    }
  },
  {
    "name": "behaviour",
    "type": "group",
    "label": "Behavioural settings",
    "importance": "high",
    "fields": [
      {
        "name": "codeColor",
        "type": "text",
        "label": "Code color",
        "importance": "medium",
        "optional": true,
        "default": "#000000",
        "widget": "colorSelector",
        "spectrum": {
          "showInput": true
        }
      },
      {
        "name": "backgroundColor",
        "type": "text",
        "label": "Background color",
        "importance": "medium",
        "optional": true,
        "default": "#ffffff",
        "widget": "colorSelector",
        "spectrum": {
          "showInput": true,
          "showAlpha": true,
          "preferredFormat": "rgb"
        }
      },
      {
        "name": "maxSize",
        "type": "text",
        "label": "Maximum size",
        "description": "Maximum size for the codes given in CSS notation (pixels by default if only a number is given)",
        "importance": "medium",
        "optional": true,
        "regexp": {
            "pattern": "^(([1-9]+.[0-9]+)|[0-9]+)[ ]*(cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)?$",
            "modifiers": "i"
          }
      },
      {
        "name": "alignment",
        "type": "select",
        "label": "Horizontal alignment",
        "description": "Set horizontal alignment if you set a maximum size",
        "options": [
          {
            "value": "left",
            "label": "left"
          },
          {
            "value": "center",
            "label": "center"
          },
          {
            "value": "right",
            "label": "right"
          }
        ],
        "default": "center"
      }
    ]
  }
]
